-- CREATE DATABASE --
CREATE DATABASE IF NOT EXISTS `POKEMON_APP`;
-- DROP DATABASE `POKEMON_APP`;

USE `POKEMON_APP`;

-- CREATE TABLES --
CREATE TABLE IF NOT EXISTS `POKEMON` (
    `ID` INT NOT NULL,
    `POKEDEX_ID` INT,
    `NAME` VARCHAR(30) NOT NULL,
    `SPRITE` VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS `TYPE` (
    `ID` INT NOT NULL,
    `NAME` VARCHAR(8) NOT NULL
);

CREATE TABLE IF NOT EXISTS `POKEMON_TYPE` (
    `POKEMON_ID` INT NOT NULL,
    `TYPE_ID` INT NOT NULL
);

-- PRIMRAY KEY --
ALTER TABLE `POKEMON` ADD CONSTRAINT `PK_POKEMON` PRIMARY KEY (`ID`);
ALTER TABLE `TYPE` ADD CONSTRAINT `PK_TYPE` PRIMARY KEY (`ID`);
ALTER TABLE `POKEMON_TYPE` ADD CONSTRAINT `PK_POKEMON_TYPE` PRIMARY KEY (`POKEMON_ID`, `TYPE_ID`);

-- FOREIGN KEY --
ALTER TABLE `POKEMON_TYPE` ADD CONSTRAINT `FK_POKEMON_TYPE_POKEMON` FOREIGN KEY (`POKEMON_ID`) REFERENCES `POKEMON`(`ID`);
ALTER TABLE `POKEMON_TYPE` ADD CONSTRAINT `FK_POKEMON_TYPE_TYPE` FOREIGN KEY (`TYPE_ID`) REFERENCES `TYPE`(`ID`);

select * from `pokemon`;
select * from `type`;
select * from `pokemon_type`;

-- delete from `pokemon_type`;
-- delete from `type`;
-- delete from `pokemon`;

-- set global time_zone = '-3:00';